/*! jquery.shifting 15-05-2014 */
!function(a,b,c){function d(b){this.options=a.extend({},i,b),this._defaults=i,this._name=h,this.props={windowHeight:0,windowWidth:0,scrollTop:0,scrollLeft:0},this.init()}function e(a,b,c,d){return-c/2*(Math.cos(Math.PI*a/d)-1)+b}function f(a){var b={top:j.props.scrollTop,left:j.props.scrollLeft,right:j.props.scrollLeft+j.props.windowWidth,bottom:j.props.scrollTop+j.props.windowHeight},c=a.offset();return c.right=c.left+a.outerWidth(),c.bottom=c.top+a.outerHeight(),!(b.right<c.left||b.left>c.right||b.bottom<c.top||b.top>c.bottom)}function g(a){return parseInt(a,10)/100}var h="shifting",i={update:10,animation:{}},j={};d.prototype={init:function(){j=this,j.prepare(),setInterval(j.run,j.options.update)},prepare:function(){a.each(j.options.animation,function(b,c){console.log(c.selector),a(c.selector).each(function(){var b={};a.each(c.properties,function(a,c){b[a]=c[0]}),j.posElement(a(this),b)})})},run:function(){j.setProps(),a.each(j.options.animation,function(b,c){a(c.selector).each(function(){f(a(this))&&j.animate(a(this),c.properties,c.duration)})})},animate:function(b,c,d){var f=j.props.windowHeight*g(d)+b.outerHeight(),h=j.props.windowHeight+j.props.scrollTop-b.offset().top,i={};a.each(c,function(a,b){var c;c="opacity"==a||"scale"==a?3:1,i[a]=e(h,b[0],b[1]-b[0],f).toFixed(c)}),j.posElement(b,i)},posElement:function(b,c){var d=a.extend({translateX:0,translateY:0,scale:1,rotate:0,opacity:1},c);b.css({transform:"translate3d("+d.translateX+"px, "+d.translateY+"px, 0) scale("+d.scale+") rotate("+d.rotate+"deg)",opacity:d.opacity})},setProps:function(){j.props.windowHeight=b.innerHeight,j.props.windowWidth=b.innerWidth,j.props.scrollTop=a(c).scrollTop(),j.props.scrollLeft=a(c).scrollLeft()}},a[h]=function(a){return new d(a)}}(jQuery,window,document);